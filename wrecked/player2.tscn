[gd_scene load_steps=22 format=3 uid="uid://685x3hhuvr5l"]

[ext_resource type="Script" uid="uid://uuv10ct6y602" path="res://player_controller.gd" id="1_0dk0n"]
[ext_resource type="PackedScene" uid="uid://b4r41tj7mrx7k" path="res://meshes/Characters/Yates_yellow_old.fbx" id="2_qd3f5"]
[ext_resource type="Script" uid="uid://6n2qlha5nso7" path="res://respawn_manager.gd" id="3_ih4i3"]
[ext_resource type="PackedScene" uid="uid://lw6bygjm0w6o" path="res://transitioner.tscn" id="4_cp8eo"]
[ext_resource type="PackedScene" uid="uid://b4t0xyhas5elu" path="res://items/effects/item_effect.tscn" id="5_bhnal"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hqtel"]
animation = &"Yayham|Drowning"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2hs0m"]
animation = &"Yayham|Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1jxqw"]
animation = &"Yayham|Jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_sweqy"]
animation = &"Yayham|Running"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dw050"]
animation = &"Yayham|Itemuse"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1jxqw"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_2hs0m"]
xfade_time = 0.5
reset = false

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dw050"]
xfade_time = 0.75
break_loop_at_end = true
reset = false

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_b26j0"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_sweqy"]
xfade_time = 0.1
reset = false

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_n7ghd"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nvl01"]
xfade_time = 0.7
break_loop_at_end = true

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ivps1"]
xfade_time = 0.75
break_loop_at_end = true

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_dw050"]
states/Drowning/node = SubResource("AnimationNodeAnimation_hqtel")
states/Drowning/position = Vector2(567, 419)
states/Idle/node = SubResource("AnimationNodeAnimation_2hs0m")
states/Idle/position = Vector2(499, 210)
states/Jumping/node = SubResource("AnimationNodeAnimation_1jxqw")
states/Jumping/position = Vector2(772, 294)
states/Running/node = SubResource("AnimationNodeAnimation_sweqy")
states/Running/position = Vector2(230, 329)
states/Start/position = Vector2(231, 91)
states/Throw/node = SubResource("AnimationNodeAnimation_dw050")
states/Throw/position = Vector2(629, 77)
transitions = ["Start", "Idle", SubResource("AnimationNodeStateMachineTransition_1jxqw"), "Idle", "Running", SubResource("AnimationNodeStateMachineTransition_2hs0m"), "Running", "Idle", SubResource("AnimationNodeStateMachineTransition_dw050"), "Idle", "Jumping", SubResource("AnimationNodeStateMachineTransition_b26j0"), "Jumping", "Idle", SubResource("AnimationNodeStateMachineTransition_sweqy"), "Idle", "Drowning", SubResource("AnimationNodeStateMachineTransition_n7ghd"), "Idle", "Throw", SubResource("AnimationNodeStateMachineTransition_nvl01"), "Throw", "Idle", SubResource("AnimationNodeStateMachineTransition_ivps1")]
graph_offset = Vector2(-196, 81)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_bhnal"]

[sub_resource type="BoxShape3D" id="BoxShape3D_bhnal"]
size = Vector3(1, 0.176758, 1)

[node name="Player" type="CharacterBody3D"]
axis_lock_angular_x = true
axis_lock_angular_z = true
script = ExtResource("1_0dk0n")
player_id = 2

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Yates_yellow")
tree_root = SubResource("AnimationNodeStateMachine_dw050")
anim_player = NodePath("../Yates_yellow/AnimationPlayer")

[node name="Yates_yellow" parent="." instance=ExtResource("2_qd3f5")]
transform = Transform3D(-1.5, 0, -1.31134e-07, 0, 1.5, 0, 1.31134e-07, 0, -1.5, 0, 0, 0)

[node name="Skeleton3D" parent="Yates_yellow/Yayham" index="0"]
bones/1/rotation = Quaternion(1.95223e-08, 1.90368e-09, 0.0216339, 0.999766)
bones/2/rotation = Quaternion(-0.000926669, -0.0427724, -0.021614, 0.998851)
bones/3/rotation = Quaternion(-9.12241e-09, -6.25647e-09, -0.00404129, 0.999992)
bones/5/rotation = Quaternion(-0.695526, -0.118035, 0.696954, -0.128712)
bones/8/rotation = Quaternion(0.130083, 0.030796, 0.100174, 0.985949)
bones/9/rotation = Quaternion(0.166672, -0.00269961, -0.0183652, 0.985838)
bones/10/rotation = Quaternion(0.204154, 0.00913134, 0.0588112, 0.977128)
bones/12/rotation = Quaternion(0.147883, 0.0183599, 0.00443326, 0.988824)
bones/13/rotation = Quaternion(0.160938, 0.000629229, 0.00428506, 0.986955)
bones/14/rotation = Quaternion(0.160472, 0.00495616, 0.00419306, 0.987019)
bones/16/rotation = Quaternion(0.149421, 0.0184276, 0.00482864, 0.98859)
bones/17/rotation = Quaternion(0.156662, 0.000456261, 0.00309963, 0.987647)
bones/18/rotation = Quaternion(0.15185, 0.00500898, 0.0049597, 0.988379)
bones/22/rotation = Quaternion(-0.248939, 0.0898901, -0.277814, 0.923455)
bones/23/rotation = Quaternion(-0.16697, -0.0162259, -0.132857, 0.976835)
bones/25/rotation = Quaternion(0.248106, 0.0184404, 0.0116676, 0.968487)
bones/27/rotation = Quaternion(0.695537, -0.118098, 0.696943, 0.128651)
bones/30/rotation = Quaternion(0.0877397, -0.026478, -0.101401, 0.990615)
bones/31/rotation = Quaternion(0.1243, 0.00191104, 0.0184637, 0.992071)
bones/32/rotation = Quaternion(0.16212, -0.00660422, -0.0591482, 0.984975)
bones/34/rotation = Quaternion(0.1054, -0.0181536, -0.00521542, 0.994251)
bones/35/rotation = Quaternion(0.118524, -0.000444861, -0.00430813, 0.992942)
bones/36/rotation = Quaternion(0.118055, -0.00477187, -0.00440151, 0.992986)
bones/38/rotation = Quaternion(0.106947, -0.018204, -0.0056133, 0.994082)
bones/39/rotation = Quaternion(0.114222, -0.000322951, -0.00311643, 0.99345)
bones/40/rotation = Quaternion(0.109382, -0.00479181, -0.00516968, 0.993975)
bones/43/rotation = Quaternion(-0.293472, 0.127848, 0.559124, 0.764794)
bones/44/rotation = Quaternion(-0.248939, -0.0898902, 0.277814, 0.923455)
bones/45/rotation = Quaternion(-0.16697, 0.016226, 0.132857, 0.976835)
bones/47/rotation = Quaternion(0.206401, -0.0179237, -0.0124466, 0.978224)
bones/49/rotation = Quaternion(0.993785, 5.98859e-05, -3.58111e-06, 0.11132)
bones/50/rotation = Quaternion(-0.335325, 1.54786e-05, 9.9315e-05, 0.942103)
bones/51/rotation = Quaternion(-0.325837, -5.53118e-06, -5.72298e-05, 0.945426)
bones/53/rotation = Quaternion(2.18357e-08, -0.0427825, 9.35041e-10, 0.999084)
bones/55/rotation = Quaternion(0.993785, -5.98674e-05, 3.7464e-06, 0.11132)
bones/57/rotation = Quaternion(-0.325837, 5.53118e-06, 5.72298e-05, 0.945426)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.953098, 0)
shape = SubResource("CylinderShape3D_bhnal")
debug_color = Color(0.894678, 0.000303416, 0.814324, 0.42)

[node name="TwistPivot" type="Node3D" parent="."]

[node name="PitchPivot" type="Node3D" parent="TwistPivot"]

[node name="Camera3D" type="Camera3D" parent="TwistPivot/PitchPivot"]
transform = Transform3D(1, 0, 0, 0, 0.938397, 0.34556, 0, -0.34556, 0.938397, 0, 1.83717, 3.67014)
current = true

[node name="RespawnManager" type="Node" parent="."]
script = ExtResource("3_ih4i3")

[node name="ResetTimer" type="Timer" parent="RespawnManager"]
one_shot = true

[node name="transitioner" parent="RespawnManager" instance=ExtResource("4_cp8eo")]

[node name="ItemEffect" parent="." instance=ExtResource("5_bhnal")]

[node name="SwimPlatform" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="SwimPlatform"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0693079, 0)
shape = SubResource("BoxShape3D_bhnal")

[connection signal="timeout" from="RespawnManager/ResetTimer" to="RespawnManager" method="_on_ResetTimer_timeout"]

[editable path="Yates_yellow"]
