[gd_scene load_steps=20 format=3 uid="uid://cloxm7yrf3dau"]

[ext_resource type="Script" uid="uid://uuv10ct6y602" path="res://player_controller.gd" id="1_tj0vx"]
[ext_resource type="Script" uid="uid://6n2qlha5nso7" path="res://respawn_manager.gd" id="3_uqwy3"]
[ext_resource type="PackedScene" uid="uid://lw6bygjm0w6o" path="res://transitioner.tscn" id="4_8caby"]
[ext_resource type="PackedScene" uid="uid://cpyhcwyog3snl" path="res://meshes/Characters/Pippi_pink.fbx" id="4_tj0vx"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_vop8p"]
radius = 0.32
height = 1.7

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hqtel"]
animation = &"Pippi_rig|Drowning"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2hs0m"]
animation = &"Pippi_rig|Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1jxqw"]
animation = &"Pippi_rig|Jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_sweqy"]
animation = &"Pippi_rig|Running"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dw050"]
animation = &"Pippi_rig|Itemuse"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1jxqw"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_2hs0m"]
xfade_time = 0.5
reset = false

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dw050"]
xfade_time = 0.75
break_loop_at_end = true
reset = false

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_b26j0"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_sweqy"]
xfade_time = 0.1
reset = false

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_n7ghd"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nvl01"]
xfade_time = 0.7
break_loop_at_end = true

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ivps1"]
xfade_time = 0.75
break_loop_at_end = true

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_tj0vx"]
states/Drowning/node = SubResource("AnimationNodeAnimation_hqtel")
states/Drowning/position = Vector2(567, 419)
states/Idle/node = SubResource("AnimationNodeAnimation_2hs0m")
states/Idle/position = Vector2(499, 210)
states/Jumping/node = SubResource("AnimationNodeAnimation_1jxqw")
states/Jumping/position = Vector2(772, 295)
states/Running/node = SubResource("AnimationNodeAnimation_sweqy")
states/Running/position = Vector2(230, 329)
states/Start/position = Vector2(231, 91)
states/Throw/node = SubResource("AnimationNodeAnimation_dw050")
states/Throw/position = Vector2(629, 77)
transitions = ["Start", "Idle", SubResource("AnimationNodeStateMachineTransition_1jxqw"), "Idle", "Running", SubResource("AnimationNodeStateMachineTransition_2hs0m"), "Running", "Idle", SubResource("AnimationNodeStateMachineTransition_dw050"), "Idle", "Jumping", SubResource("AnimationNodeStateMachineTransition_b26j0"), "Jumping", "Idle", SubResource("AnimationNodeStateMachineTransition_sweqy"), "Idle", "Drowning", SubResource("AnimationNodeStateMachineTransition_n7ghd"), "Idle", "Throw", SubResource("AnimationNodeStateMachineTransition_nvl01"), "Throw", "Idle", SubResource("AnimationNodeStateMachineTransition_ivps1")]
graph_offset = Vector2(-64, -92)

[node name="Player4" type="CharacterBody3D"]
script = ExtResource("1_tj0vx")
player_id = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.904571, 0)
shape = SubResource("CapsuleShape3D_vop8p")
debug_color = Color(0.894678, 0.000303416, 0.814324, 0.42)

[node name="TwistPivot" type="Node3D" parent="."]

[node name="PitchPivot" type="Node3D" parent="TwistPivot"]

[node name="Camera3D" type="Camera3D" parent="TwistPivot/PitchPivot"]
transform = Transform3D(1, 0, 0, 0, 0.938397, 0.34556, 0, -0.34556, 0.938397, 0, 1.83717, 3.67014)
current = true

[node name="RespawnManager" type="Node" parent="."]
script = ExtResource("3_uqwy3")

[node name="ResetTimer" type="Timer" parent="RespawnManager"]
one_shot = true

[node name="transitioner" parent="RespawnManager" instance=ExtResource("4_8caby")]

[node name="ItemEffect" type="Node3D" parent="."]

[node name="TextureRect" type="TextureRect" parent="ItemEffect"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
expand_mode = 1

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Pippi_pink")
tree_root = SubResource("AnimationNodeStateMachine_tj0vx")
anim_player = NodePath("../Pippi_pink/AnimationPlayer")

[node name="Pippi_pink" parent="." instance=ExtResource("4_tj0vx")]
transform = Transform3D(-1.5, 0, -1.31134e-07, 0, 1.5, 0, 1.31134e-07, 0, -1.5, 0, 0, 0)

[node name="Skeleton3D" parent="Pippi_pink/Pippi_rig" index="0"]
bones/0/rotation = Quaternion(0.707107, 8.42937e-08, 8.42937e-08, 0.707107)
bones/0/scale = Vector3(1, 1, 1)
bones/1/rotation = Quaternion(1.95734e-08, 1.2758e-09, -0.0104816, 0.999945)
bones/1/scale = Vector3(1, 1, 1)
bones/2/rotation = Quaternion(-0.000580601, 0.0549908, 0.0104655, 0.998432)
bones/2/scale = Vector3(1, 1, 1)
bones/3/rotation = Quaternion(-9.00359e-09, -4.6353e-09, -0.02608, 0.99966)
bones/3/scale = Vector3(1, 1, 1)
bones/5/rotation = Quaternion(-0.695482, -0.117797, 0.696994, -0.128946)
bones/5/scale = Vector3(1, 1, 1)
bones/6/rotation = Quaternion(0.0162994, -0.00123973, 0.00720276, 0.99984)
bones/6/scale = Vector3(1, 1, 1)
bones/7/rotation = Quaternion(0.0860178, 0.000412281, -0.00187432, 0.996292)
bones/7/scale = Vector3(1, 1, 1)
bones/8/rotation = Quaternion(0.0986725, 0.0275961, 0.101103, 0.989586)
bones/8/scale = Vector3(1, 1, 1)
bones/9/rotation = Quaternion(0.135257, -0.002115, -0.0184416, 0.990637)
bones/9/scale = Vector3(1, 1, 1)
bones/10/rotation = Quaternion(0.172986, 0.00725701, 0.0590717, 0.983124)
bones/10/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(0.116396, 0.0182098, 0.00501429, 0.993023)
bones/12/scale = Vector3(1, 1, 1)
bones/13/rotation = Quaternion(0.12948, 0.000492927, 0.00430287, 0.991573)
bones/13/scale = Vector3(1, 1, 1)
bones/14/rotation = Quaternion(0.129023, 0.00482017, 0.0043485, 0.99162)
bones/14/scale = Vector3(1, 1, 1)
bones/16/rotation = Quaternion(0.117917, 0.018265, 0.00541202, 0.992841)
bones/16/scale = Vector3(1, 1, 1)
bones/17/rotation = Quaternion(0.125184, 0.000357196, 0.00311263, 0.992129)
bones/17/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(0.120358, 0.0048488, 0.00511641, 0.992706)
bones/18/scale = Vector3(1, 1, 1)
bones/20/rotation = Quaternion(0.514421, -0.24349, 0.757009, 0.320969)
bones/20/scale = Vector3(1, 1, 1)
bones/21/rotation = Quaternion(-0.293471, -0.127848, -0.559124, 0.764794)
bones/21/scale = Vector3(1, 1, 1)
bones/22/rotation = Quaternion(-0.248939, 0.0898901, -0.277814, 0.923455)
bones/22/scale = Vector3(1, 1, 1)
bones/23/rotation = Quaternion(-0.16697, -0.016226, -0.132857, 0.976835)
bones/23/scale = Vector3(1, 1, 1)
bones/25/rotation = Quaternion(0.217191, 0.0180602, 0.0122479, 0.975885)
bones/25/scale = Vector3(1, 1, 1)
bones/27/rotation = Quaternion(0.69558, -0.118329, 0.696904, 0.128419)
bones/27/scale = Vector3(1, 1, 1)
bones/28/rotation = Quaternion(0.0162996, 0.00124003, -0.00720276, 0.99984)
bones/28/scale = Vector3(1, 1, 1)
bones/29/rotation = Quaternion(0.0860175, -0.00041241, 0.00187431, 0.996292)
bones/29/scale = Vector3(1, 1, 1)
bones/30/rotation = Quaternion(0.119188, -0.0296882, -0.100508, 0.987325)
bones/30/scale = Vector3(1, 1, 1)
bones/31/rotation = Quaternion(0.155776, 0.00249704, 0.0183935, 0.987618)
bones/31/scale = Vector3(1, 1, 1)
bones/32/rotation = Quaternion(0.193351, -0.00848123, -0.0589083, 0.979323)
bones/32/scale = Vector3(1, 1, 1)
bones/34/rotation = Quaternion(0.136955, -0.01831, -0.00463571, 0.990397)
bones/34/scale = Vector3(1, 1, 1)
bones/35/rotation = Quaternion(0.15003, -0.000581901, -0.00429176, 0.988672)
bones/35/scale = Vector3(1, 1, 1)
bones/36/rotation = Quaternion(0.149563, -0.00490939, -0.00424758, 0.988731)
bones/36/scale = Vector3(1, 1, 1)
bones/38/rotation = Quaternion(0.138495, -0.0183733, -0.00503175, 0.99018)
bones/38/scale = Vector3(1, 1, 1)
bones/39/rotation = Quaternion(0.145746, -0.000421862, -0.00310459, 0.989317)
bones/40/rotation = Quaternion(0.140926, -0.00495373, -0.00501473, 0.989995)
bones/40/scale = Vector3(1, 1, 1)
bones/42/scale = Vector3(1, 1, 1)
bones/43/scale = Vector3(1, 1, 1)
bones/44/rotation = Quaternion(-0.248939, -0.0898902, 0.277814, 0.923455)
bones/44/scale = Vector3(1, 1, 1)
bones/45/rotation = Quaternion(-0.16697, 0.0162259, 0.132857, 0.976835)
bones/45/scale = Vector3(1, 1, 1)
bones/47/rotation = Quaternion(0.237396, -0.0183103, -0.0118705, 0.971168)
bones/47/scale = Vector3(1, 1, 1)
bones/49/rotation = Quaternion(0.993785, 5.9886e-05, -3.58e-06, 0.11132)
bones/49/scale = Vector3(1, 1, 1)
bones/50/rotation = Quaternion(-0.335326, 1.54783e-05, 9.93149e-05, 0.942102)
bones/50/scale = Vector3(1, 1, 1)
bones/51/rotation = Quaternion(-0.325836, -5.53104e-06, -5.72296e-05, 0.945426)
bones/51/scale = Vector3(1, 1, 1)
bones/53/rotation = Quaternion(2.18226e-08, 0.0549938, -1.20193e-09, 0.998487)
bones/55/rotation = Quaternion(0.993785, -5.98675e-05, 3.74529e-06, 0.11132)
bones/55/scale = Vector3(1, 1, 1)
bones/56/rotation = Quaternion(-0.335326, -1.54336e-05, -9.9243e-05, 0.942102)
bones/56/scale = Vector3(1, 1, 1)
bones/57/rotation = Quaternion(-0.325836, 5.53105e-06, 5.72296e-05, 0.945426)
bones/57/scale = Vector3(1, 1, 1)

[connection signal="timeout" from="RespawnManager/ResetTimer" to="RespawnManager" method="_on_ResetTimer_timeout"]

[editable path="Pippi_pink"]
